<mxfile host="app.diagrams.net">
  <diagram name="AWS Aurora EC2 Architecture">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Users -->
        <mxCell id="users" value="Users" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="550" y="20" width="100" height="50" as="geometry"/>
        </mxCell>

        <!-- VPC -->
        <mxCell id="vpc" value="VPC&#10;10.0.0.0/16" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="1100" height="600" as="geometry"/>
        </mxCell>

        <!-- Public Subnet -->
        <mxCell id="subnet" value="Public Subnet&#10;10.0.1.0/24" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f8e9;strokeColor=#558b2f;" vertex="1" parent="vpc">
          <mxGeometry x="40" y="40" width="500" height="250" as="geometry"/>
        </mxCell>

        <!-- EC2 -->
        <mxCell id="ec2" value="EC2 Instance&#10;t3.medium&#10;Web Server" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcc80;strokeColor=#ef6c00;" vertex="1" parent="subnet">
          <mxGeometry x="150" y="80" width="200" height="100" as="geometry"/>
        </mxCell>

        <!-- Aurora Primary -->
        <mxCell id="aurora-primary" value="Aurora MySQL&#10;Primary Instance&#10;db.r6g.large" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;" vertex="1" parent="vpc">
          <mxGeometry x="200" y="380" width="260" height="120" as="geometry"/>
        </mxCell>

        <!-- Aurora Read Replica -->
        <mxCell id="aurora-replica" value="Aurora MySQL&#10;Read Replica&#10;db.r6g.large" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bbdefb;strokeColor=#1565c0;" vertex="1" parent="vpc">
          <mxGeometry x="650" y="380" width="260" height="120" as="geometry"/>
        </mxCell>

        <!-- Users -> EC2 -->
        <mxCell id="edge1" style="endArrow=classic;html=1;" edge="1" parent="1" source="users" target="ec2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- EC2 -> Aurora Primary -->
        <mxCell id="edge2" style="endArrow=classic;html=1;" edge="1" parent="1" source="ec2" target="aurora-primary">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Aurora Primary -> Read Replica -->
        <mxCell id="edge3" style="endArrow=block;dashed=1;html=1;" edge="1" parent="1" source="aurora-primary" target="aurora-replica">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
